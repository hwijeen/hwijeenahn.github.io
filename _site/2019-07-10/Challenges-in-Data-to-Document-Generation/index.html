<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Challenges in Data-to-Document Generation</title>

  <!-- CSS -->
  <link rel="stylesheet" href="/assets/css/main.css" type="text/css">
  <!-- Font -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href='//spoqa.github.io/spoqa-han-sans/css/SpoqaHanSans-kr.css' rel='stylesheet' type='text/css'>
  <link href="https://fonts.googleapis.com/css?family=Ubuntu+Mono" rel="stylesheet">
  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Hwijeen Ahn" href="/feed.xml" />
  <!-- Begin Jekyll SEO tag v2.4.0 -->
<title>Challenges in Data-to-Document Generation | Hwijeen Ahn</title>
<meta name="generator" content="Jekyll v3.8.0" />
<meta property="og:title" content="Challenges in Data-to-Document Generation" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Data-to-Text 관련 논문 리뷰" />
<meta property="og:description" content="Data-to-Text 관련 논문 리뷰" />
<link rel="canonical" href="http://localhost:4000/2019-07-10/Challenges-in-Data-to-Document-Generation/" />
<meta property="og:url" content="http://localhost:4000/2019-07-10/Challenges-in-Data-to-Document-Generation/" />
<meta property="og:site_name" content="Hwijeen Ahn" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-07-10T00:00:00+09:00" />
<script type="application/ld+json">
{"headline":"Challenges in Data-to-Document Generation","dateModified":"2019-07-10T00:00:00+09:00","datePublished":"2019-07-10T00:00:00+09:00","description":"Data-to-Text 관련 논문 리뷰","url":"http://localhost:4000/2019-07-10/Challenges-in-Data-to-Document-Generation/","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2019-07-10/Challenges-in-Data-to-Document-Generation/"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <!-- Icons -->
  <!-- 16x16 -->
  <link rel="shortcut icon" href="http://localhost:4000/logo.png">
  <!-- 32x32 -->
  <link rel="shortcut icon" href="http://localhost:4000/logo.png">

  <!-- Google Analytics -->

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-112068488-2', 'auto');
ga('send', 'pageview');

</script>



</head>

<body>
  <div class="content-container">
    


<header>
  <div class="header-small">
    <a href="http://localhost:4000">Hwijeen Ahn</a>
  </div>
</header>
<div class="post">
  <div class="post-title">Challenges in Data-to-Document Generation</div>
  <span class="post-date">
    <time>10 Jul 2019</time>
  </span>

  
    <span class="post-minute"> 
     1 minute read
    </span>
  


  <div class="post-tag">
    <ul>
      
      <li>
        <a href="http://localhost:4000/tags#Data-to-text">
          <span>Data-to-text</span>
        </a>
      </li>
      
      
      <li>
        <a href="http://localhost:4000/tags#Rotowire">
          <span>Rotowire</span>
        </a>
      </li>
      
      
    </ul>
  </div>

  <p>Challenges in Data-to-Document Generation, Wiseman et al., EMNLP 2017. <a href="https://arxiv.org/abs/1707.08052">paper</a></p>

<h2 id="idea">Idea</h2>
<p>논문의 핵심은 1) 새로운 data-to-text generation task를 제안, 2) baseline 모델 제안, 3) RotoWire dataset 배포, 4)  extractive evaluation 방법을 제안한 것이다. Table과 같은 structured data에서 natural language를 만들어 내려면 1) what to say, 2) how to say 두 가지 문제를 해결해야하는데, 이를 위해 neural network 기반의 end-to-end 모델을 사용한다. 제안한 여러 가지 Baseline 중 가장 성능이 높았던 것은 Encoder-Decoder + copy mechanism 모델에 additional reconstruction loss를 사용한 방법이다.</p>

<h2 id="model">Model</h2>
<p><strong><em>Encoder-Decoder</em></strong>{
    <strong><em>Embedding</em></strong>:  simple look-up table<br />
    <strong><em>Encoder</em></strong>: 별다른 처리 없이 embedding을 쌓아두기<br />
    <strong><em>Decoder</em></strong>:  RNN<br />
    <strong><em>Generator</em></strong>:  Copy mechanism(joint copy or conditional copy)
    }</p>

<h4 id="copy-mechanism">Copy mechanism</h4>

<p>사용된 모델은 기존에 제안된 모듈들 조합해서 만든 것이며 (성능 향상에) 핵심적인 부분은 copy mechanism이다. Copy mechanism은 decoder가 단어를 생성할 때 vocab에 등록된 단어 뿐만아니라 input으로 들어오는 source token도 그대로 가져다 쓸 수 있게 하자는 방법이다. 직관적으로 생각해봐도 Input table에 담긴 내용을 natural language로 만들어내야하는 task에 잘 맞는 기법이다. Table에있는 record 하나가 (Point, Russel Westbrook, 50)일 때 우리가 copy해오는 대상은 50, 즉 record의 ‘value’를 가져오는 것이다.
<script type="math/tex">p(\hat{y}_t | \hat{y}_{1:t-1}, s) = \sum_{z\in\left\{0,1\right\}}p(\hat{y}_t, z_t=z|\hat{y}_{1:t-1}, s)</script>
Copy mechanism을 사용해서 단어 $\hat{y}<em>t$의 생성확률을 모델링한다는 것은 이 단어가 copy를 통해 만들어졌을 확률과 generation을 통해서 만들어졌을 확률을 구해서 더한다는 의미이다.  확률값 $p(\hat{y}_t, z_t=z|\hat{y}</em>{1:t-1}, s)$을 구하는 방법으로는 <strong>joint copy model</strong>과 <strong>conditional copy model</strong>이 있다. 둘 다 decoder의 hidden state을 input으로 확률값을 output으로 하는 함수인데, 계산 과정에 차이가 있다. joint model은 $copy(\hat{y}<em>t)$와 $gen(\hat{y}_t)$를 구한 뒤 normalization term을 이용해 이를 확률값으로 바꾸는 반면, conditional model은 $p</em>{copy}({\hat{y}<em>t})$와 $p</em>{gen}({\hat{y}_t})$이라는 확률값에 $p(z_t=1), p(z_t=0)$이라는 일종의 weight를 이용해서 sum을 한다.</p>

<p><img src="/assets/img/copy.jpg" alt="copy" /></p>

<ul>
  <li><u>same-sentence 제한</u></li>
</ul>

<h4 id="reconstruction-loss">Reconstruction loss</h4>

<p>decoder에 hidden state을 이용하여 input의 내용을 맞추는 task를 학습과정에 추가하는 방법이다. 매 time step에서 만들어지는 hidden state가 input에 대한 전역적인 정보를 다 담고 있게끔 도와준다고 이해할 수 있다.</p>

<ul>
  <li><u>segment into $\frac{T}{B}$..?</u></li>
</ul>

<h4 id="tvd-loss">TVD Loss</h4>

<p>제대로 안 나와 있음</p>

<h2 id="experiment">Experiment</h2>
<p><img src="/assets/img/wiseman_result.PNG" alt="result" /></p>

<ul>
  <li>가장 높은 성능을 낸 건 conditional copy 모델이다.</li>
</ul>

<h2 id="issue">Issue</h2>

<ul>
  <li>
    <p>학습시 truncated BPTT를 사용한다. Summary 평균 길이가 300이 넘는데, 100을 기준으로 truncate를 한다.</p>
  </li>
  <li>
    <p>OpenNMT-py 코드를 많이 봐야할듯……..ㅠ</p>
  </li>
</ul>

  
  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
  </script>
  <script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
</div>

  <!-- Disqus -->

<div id="disqus_thread"></div>
<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables */

var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://hwijeen-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  <!--<div class="post-disqus">
      <section id="disqus_thread"></section>
      <div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables */

var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://hwijeen-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

  </div>-->


<div class="relatedPosts">

  <h3>Related Posts</h3>

  
  

  
  

  

  

    
    

    

    
      <div>
      <a href="/2019-07-10/Data-to-Text-Generation-with-Content-Selection-and-Planning/">Data-to-Text Generation with Content Selection and Planning</a>
      </div>
      
      
    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

    
    

    

    

  

</div>

<div class="recentPosts">

  <h3>Recent Posts</h3>

  
  

    
      
      <div class="post ml2">
        <a href="/2019-07-10/Data-to-Text-Generation-with-Content-Selection-and-Planning/" class="post-link">
          Data-to-Text Generation with Content Selection and Planning
          <small class="archive-list-post-date">10 Jul 2019</small>
        </a>
      </div>
      
    
      
      <div class="post ml2">
        <a href="/2019-05-10/Zsh-cheat-sheet/" class="post-link">
          Zsh 사용
          <small class="archive-list-post-date">10 May 2019</small>
        </a>
      </div>
      
    
      
      <div class="post ml2">
        <a href="/2019-02-23/Dataloading-with-torchtext/" class="post-link">
          Dataloading with torchtext
          <small class="archive-list-post-date">23 Feb 2019</small>
        </a>
      </div>
      
    
      
      <div class="post ml2">
        <a href="/2019-02-20/A-Deep-Generative-Framework-for-Paraphrase-Generation/" class="post-link">
          A Deep Generative Framework for Paraphrase Genertion
          <small class="archive-list-post-date">20 Feb 2019</small>
        </a>
      </div>
      
    
      
      <div class="post ml2">
        <a href="/2019-02-19/Learning-Discourse-level-Diversity-for-Neural-Dialog-Models-Using-Conditional-Variational-Autoencoders/" class="post-link">
          Learning Discourse-level Diversity for Neural Dialog Models Using Conditional Variational Autoencoders
          <small class="archive-list-post-date">19 Feb 2019</small>
        </a>
      </div>
      
    
      
        

</div>


    <!-- Documents about icons are here: http://fontawesome.io/icons/ -->
<div class="footer">
  <hr />
  <div class="footer-link">
    
	
	
	
	

    

    
    <a href="https://github.com/hwijeen"><i class="fa fa-github" aria-hidden="true"></i></a>
    
	
	
	
	

    
	
	
	
	
	
	
	
	

    

    

    
    <a href="mailto:aurorall@naver.com"><i class="fa fa-envelope" aria-hidden="true"></i></a>
    

  </div>
  © 2018 Hwijeen Ahn. All rights reserved.
</div>

  </div>
</body>
</html>
